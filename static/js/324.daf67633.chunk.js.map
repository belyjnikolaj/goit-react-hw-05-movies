{"version":3,"file":"static/js/324.daf67633.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/filmOfDay/FilmOfDay.module.css?cb6d","components/filmOfDay/FilmOfDay.jsx","webpack://react-homework-template/./src/components/searchbar/Searchbar.module.css?b775","components/searchbar/Searchbar.jsx","pages/MovesPage.jsx","services/fetchData.js","services/endpointFetch.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item__movie\":\"FilmOfDay_item__movie__KaIEU\"};","\nimport { Link, Outlet, useLocation } from 'react-router-dom';\nimport css from './FilmOfDay.module.css';\nimport { Suspense } from 'react';\nimport Loader from 'components/loader/Loader';\n\nconst FilmOfDay = ({ title, id, name }) => {  \n    const location = useLocation();\n   \n    return (\n        \n        <li className={css['item__movie']} key={id}>\n            <Link className={css['link__movie']} state={{from: location}} to={`/movies/${id}`}>{title || name}</Link>      \n            <Suspense fallback={<div><Loader /></div>}>\n                <Outlet />\n            </Suspense>\n        </li>\n        \n    );\n} \n\nexport default FilmOfDay;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__8NXX2\",\"searchbar\":\"Searchbar_searchbar__vDSrm\",\"button\":\"Searchbar_button__V2v1w\",\"icon\":\"Searchbar_icon__L1lxA\",\"input\":\"Searchbar_input__hqNq7\",\"list__movie-box\":\"Searchbar_list__movie-box__9hPHl\",\"list__movie\":\"Searchbar_list__movie__qT+1Q\"};","import { Suspense, useEffect, useState } from \"react\";\nimport css from \"./Searchbar.module.css\";\nimport { Outlet, useSearchParams } from \"react-router-dom\";\nimport { searchMovies } from \"services/endpointFetch\";\nimport { useCastomContext } from \"context/Context\";\nimport FilmOfDay from \"components/filmOfDay/FilmOfDay\";\nimport Loader from \"components/loader/Loader\";\n\nconst Searchbar = () => {\n  const context = useCastomContext();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const filterQuery = searchParams.get('query') ?? '';\n  const [error, setError] = useState(null); // Стан для зберігання помилки\n  const [prevQuery, setPrevQuery] = useState(null);\n  useEffect(() => {\n    context.setError(null);\n    if (filterQuery !== prevQuery) {\n      searchMovies(filterQuery)\n      .then((data) => {\n        context.handleData(data, 'results');\n        setError(null);\n      })\n      .catch((error) => {\n        context.handleError(error);\n        setError(error.message);\n      });\n      setPrevQuery(filterQuery)\n    }\n    return () => {};\n  }, [filterQuery, prevQuery, context]);\n\n  const handleChange = ({ target }) => {\n    const queryValue = target.value;\n    setSearchParams({ query: queryValue });\n  };\n\n  const handleSubmit = (e) => {\n  e.preventDefault();\n  searchMovies(filterQuery)\n    .then((data) => context.handleData(data, 'results'))\n    .catch(context.handleError);\n};\n\n  return (\n    <>\n      <div className={css.searchbar}>\n        <form className={css.form} onSubmit={handleSubmit}>         \n          <input\n            className={css.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n            onChange={handleChange}\n            value={filterQuery}\n          />\n           <button type=\"submit\" className={css.button}>\n            Search\n          </button>\n        </form>\n        <Suspense fallback={<div><Loader /></div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n      <div  className={css['list__movie-box']}>\n        <ul className={css['list__movie']}>\n          {context.data.map((el) => (\n            <FilmOfDay \n              key={el.id} \n              id={el.id} \n              title={el.title} \n              name={el.name} \n            />\n          ))}\n        </ul>\n      </div>\n      {error && <div className={css.error}>{error}</div>}\n    </>\n  );\n};\n\nexport default Searchbar;\n","// import FilmDetails from 'components/filmDetails/FilmDetails'\nimport Searchbar from 'components/searchbar/Searchbar'\nimport React from 'react'\n\nconst MovesPage = () => {\n  \n  return (\n    // <div>MovesPage</div>\n    <Searchbar />\n  )\n}\n\nexport default MovesPage","const BASE_URL = 'https://api.themoviedb.org/3';\n// const ENDPOINT = '/trending/all/day';\nconst API_KEY = 'bb37d49c53a672415b33eb59b7e6ce07';\n\nexport const fetchData = endpoint => {\n  const url = new URL(`${BASE_URL}${endpoint}`);\n  url.searchParams.append('api_key', API_KEY);\n\n  return fetch(url).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n};\n\n// import axios from 'axios';\n// import Notiflix from 'notiflix';\n//\n// const BASE_URL = 'https://api.themoviedb.org/3';\n// const ENDPOINT = '/trending/all/day';\n// const API_KEY = 'bb37d49c53a672415b33eb59b7e6ce07';\n\n// export const getFilms = () => {\n//   return fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}`).then(\n//     resp => {\n//       if (!resp.ok) {\n//         throw new Error(resp.statusText);\n//       }\n\n//       return resp.json();\n//     }\n//   );\n// };\n\n// const fetchImages = async (searchText, page) => {\n//     const params = new URLSearchParams({\n//     key: API_KEY,\n//     q: searchText,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: 'true',\n//     per_page: 12,\n//     page: page,\n//   });\n\n//   try {\n//     const response = await axios.get(`${BASE_URL}?${params}`);\n//     const { data } = response;\n\n//     return data;\n//   } catch (error) {\n//     console.error(error);\n//     Notiflix.Notify.failure(\n//       'An error occurred while fetching images. Please try again later.'\n//     );\n\n//     return null;\n//   }\n// };\n\n// export default getFilms;\n","import { fetchData } from \"./fetchData\";\n\nexport const getTrendingFilms = () => {\n  const endpoint = '/trending/all/day';\n  return fetchData(endpoint);\n};\n\nexport const searchMovies = (query) => {\n  const endpoint = `/search/movie?query=${query}`;\n  return fetchData(endpoint);\n};\n\nexport const getMovieDetails = (movieId) => {\n  const endpoint = `/movie/${movieId}`;\n  return fetchData(endpoint);\n};\n\nexport const getMovieCredits = (movieId) => {\n  const endpoint = `/movie/${movieId}/credits`;\n  return fetchData(endpoint);\n};\n\nexport const getMovieReviews = movieId => {\n  const endpoint = `/movie/${movieId}/reviews`;\n  return fetchData(endpoint);\n};\n"],"names":["_ref","title","id","name","location","useLocation","_jsxs","className","css","children","_jsx","Link","state","from","to","concat","Suspense","fallback","Loader","Outlet","_searchParams$get","context","useCastomContext","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","filterQuery","get","_useState","useState","_useState2","error","setError","_useState3","_useState4","prevQuery","setPrevQuery","useEffect","searchMovies","then","data","handleData","catch","handleError","message","_Fragment","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","onChange","queryValue","target","value","query","map","el","FilmOfDay","Searchbar","fetchData","endpoint","url","URL","append","fetch","resp","ok","Error","statusText","json","getTrendingFilms","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}