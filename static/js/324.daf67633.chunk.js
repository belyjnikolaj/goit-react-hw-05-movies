"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[324],{234:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(689),a=t(87),c={item__movie:"FilmOfDay_item__movie__KaIEU"},i=t(791),o=t(270),u=t(184),s=function(e){var n=e.title,t=e.id,s=e.name,l=(0,r.TH)();return(0,u.jsxs)("li",{className:c.item__movie,children:[(0,u.jsx)(a.rU,{className:c.link__movie,state:{from:l},to:"/movies/".concat(t),children:n||s}),(0,u.jsx)(i.Suspense,{fallback:(0,u.jsx)("div",{children:(0,u.jsx)(o.Z,{})}),children:(0,u.jsx)(r.j3,{})})]},t)}},324:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var r=t(439),a=t(791),c={form:"Searchbar_form__8NXX2",searchbar:"Searchbar_searchbar__vDSrm",button:"Searchbar_button__V2v1w",icon:"Searchbar_icon__L1lxA",input:"Searchbar_input__hqNq7","list__movie-box":"Searchbar_list__movie-box__9hPHl",list__movie:"Searchbar_list__movie__qT+1Q"},i=t(87),o=t(689),u=t(393),s=t(187),l=t(234),m=t(270),h=t(184),_=function(){var e,n=(0,s.s)(),t=(0,i.lr)(),_=(0,r.Z)(t,2),f=_[0],v=_[1],d=null!==(e=f.get("query"))&&void 0!==e?e:"",b=(0,a.useState)(null),x=(0,r.Z)(b,2),j=x[0],p=x[1],S=(0,a.useState)(null),k=(0,r.Z)(S,2),N=k[0],w=k[1];(0,a.useEffect)((function(){return n.setError(null),d!==N&&((0,u.z1)(d).then((function(e){n.handleData(e,"results"),p(null)})).catch((function(e){n.handleError(e),p(e.message)})),w(d)),function(){}}),[d,N,n]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:c.searchbar,children:[(0,h.jsxs)("form",{className:c.form,onSubmit:function(e){e.preventDefault(),(0,u.z1)(d).then((function(e){return n.handleData(e,"results")})).catch(n.handleError)},children:[(0,h.jsx)("input",{className:c.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){var n=e.target.value;v({query:n})},value:d}),(0,h.jsx)("button",{type:"submit",className:c.button,children:"Search"})]}),(0,h.jsx)(a.Suspense,{fallback:(0,h.jsx)("div",{children:(0,h.jsx)(m.Z,{})}),children:(0,h.jsx)(o.j3,{})})]}),(0,h.jsx)("div",{className:c["list__movie-box"],children:(0,h.jsx)("ul",{className:c.list__movie,children:n.data.map((function(e){return(0,h.jsx)(l.Z,{id:e.id,title:e.title,name:e.name},e.id)}))})}),j&&(0,h.jsx)("div",{className:c.error,children:j})]})},f=function(){return(0,h.jsx)(_,{})}},393:function(e,n,t){t.d(n,{zv:function(){return o},TP:function(){return i},tx:function(){return u},JS:function(){return a},z1:function(){return c}});var r=function(e){var n=new URL("".concat("https://api.themoviedb.org/3").concat(e));return n.searchParams.append("api_key","bb37d49c53a672415b33eb59b7e6ce07"),fetch(n).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))},a=function(){return r("/trending/all/day")},c=function(e){var n="/search/movie?query=".concat(e);return r(n)},i=function(e){var n="/movie/".concat(e);return r(n)},o=function(e){var n="/movie/".concat(e,"/credits");return r(n)},u=function(e){var n="/movie/".concat(e,"/reviews");return r(n)}}}]);
//# sourceMappingURL=324.daf67633.chunk.js.map