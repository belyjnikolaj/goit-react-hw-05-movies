{"version":3,"file":"static/js/737.b4fd4a8e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/filmOfDay/FilmOfDay.module.css?cb6d","components/filmOfDay/FilmOfDay.jsx","webpack://react-homework-template/./src/components/listFilmsOfDay/ListFilmsOfDay.module.css?a7ae","components/listFilmsOfDay/ListFilmsOfDay.jsx","pages/HomePage.jsx","services/fetchData.js","services/endpointFetch.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item__movie\":\"FilmOfDay_item__movie__KaIEU\"};","\nimport { Link, Outlet, useLocation } from 'react-router-dom';\nimport css from './FilmOfDay.module.css';\nimport { Suspense } from 'react';\nimport Loader from 'components/loader/Loader';\n\nconst FilmOfDay = ({ title, id, name }) => {  \n    const location = useLocation();\n   \n    return (\n        \n        <li className={css['item__movie']} key={id}>\n            <Link className={css['link__movie']} state={{from: location}} to={`/movies/${id}`}>{title || name}</Link>      \n            <Suspense fallback={<div><Loader /></div>}>\n                <Outlet />\n            </Suspense>\n        </li>\n        \n    );\n} \n\nexport default FilmOfDay;\n","// extracted by mini-css-extract-plugin\nexport default {\"list__box\":\"ListFilmsOfDay_list__box__AON76\",\"list__title\":\"ListFilmsOfDay_list__title__2xCVP\",\"list__movie\":\"ListFilmsOfDay_list__movie__0oq+K\"};","import { Suspense, useEffect, useRef } from 'react';\n\nimport { getTrendingFilms } from 'services/endpointFetch';\nimport { useCastomContext } from 'context/Context';\n\nimport css from './ListFilmsOfDay.module.css'\nimport FilmOfDay from 'components/filmOfDay';\nimport { Outlet } from 'react-router-dom';\nimport Loader from 'components/loader/Loader';\n// import { useLocation } from 'react-router-dom';\n\nconst ListFilmsOfDay = () => {\n  const context = useCastomContext()\n \nconst contextRef = useRef(null);\n\n  // При кожному рендері оновлюємо значення contextRef\n  useEffect(() => {\n    contextRef.current = context;\n  }, [context]);\n\n  useEffect(() => {\n    const currentContext = contextRef.current;\n\n    currentContext.setError(null);\n    getTrendingFilms()\n      .then((data) => currentContext.handleData(data, 'results'))\n      .catch(currentContext.handleError);\n  }, []);\n  \n    return (\n      <div className={css['list__box']}>\n        <h1 className={css['list__title']}>Tranding today</h1>\n        {context.error && (\n        <div className={css.error}>{context.error}</div>\n        )}\n        {\n      <ul className={css['list__movie']}>\n        {context.data.map((el) => (\n          <FilmOfDay\n            key={el.id}\n            id={el.id}\n            title={el.title}\n            name={el.name}\n          />\n        ))}\n          </ul>}\n        <Suspense fallback={<div><Loader /></div>}>\n         <Outlet />\n      </Suspense>\n      </div>\n    );\n}\n\nexport default ListFilmsOfDay;","import ListFilmsOfDay from \"components/listFilmsOfDay\";\n\n\nconst HomePage = () => {\n    return (\n        <>\n            <ListFilmsOfDay/>\n        </>                  \n        \n    )\n}\n\nexport default HomePage;","const BASE_URL = 'https://api.themoviedb.org/3';\n// const ENDPOINT = '/trending/all/day';\nconst API_KEY = 'bb37d49c53a672415b33eb59b7e6ce07';\n\nexport const fetchData = endpoint => {\n  const url = new URL(`${BASE_URL}${endpoint}`);\n  url.searchParams.append('api_key', API_KEY);\n\n  return fetch(url).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n};\n\n// import axios from 'axios';\n// import Notiflix from 'notiflix';\n//\n// const BASE_URL = 'https://api.themoviedb.org/3';\n// const ENDPOINT = '/trending/all/day';\n// const API_KEY = 'bb37d49c53a672415b33eb59b7e6ce07';\n\n// export const getFilms = () => {\n//   return fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}`).then(\n//     resp => {\n//       if (!resp.ok) {\n//         throw new Error(resp.statusText);\n//       }\n\n//       return resp.json();\n//     }\n//   );\n// };\n\n// const fetchImages = async (searchText, page) => {\n//     const params = new URLSearchParams({\n//     key: API_KEY,\n//     q: searchText,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: 'true',\n//     per_page: 12,\n//     page: page,\n//   });\n\n//   try {\n//     const response = await axios.get(`${BASE_URL}?${params}`);\n//     const { data } = response;\n\n//     return data;\n//   } catch (error) {\n//     console.error(error);\n//     Notiflix.Notify.failure(\n//       'An error occurred while fetching images. Please try again later.'\n//     );\n\n//     return null;\n//   }\n// };\n\n// export default getFilms;\n","import { fetchData } from \"./fetchData\";\n\nexport const getTrendingFilms = () => {\n  const endpoint = '/trending/all/day';\n  return fetchData(endpoint);\n};\n\nexport const searchMovies = (query) => {\n  const endpoint = `/search/movie?query=${query}`;\n  return fetchData(endpoint);\n};\n\nexport const getMovieDetails = (movieId) => {\n  const endpoint = `/movie/${movieId}`;\n  return fetchData(endpoint);\n};\n\nexport const getMovieCredits = (movieId) => {\n  const endpoint = `/movie/${movieId}/credits`;\n  return fetchData(endpoint);\n};\n\nexport const getMovieReviews = movieId => {\n  const endpoint = `/movie/${movieId}/reviews`;\n  return fetchData(endpoint);\n};\n"],"names":["_ref","title","id","name","location","useLocation","_jsxs","className","css","children","_jsx","Link","state","from","to","concat","Suspense","fallback","Loader","Outlet","context","useCastomContext","contextRef","useRef","useEffect","current","currentContext","setError","getTrendingFilms","then","data","handleData","catch","handleError","error","map","el","FilmOfDay","_Fragment","ListFilmsOfDay","fetchData","endpoint","url","URL","searchParams","append","fetch","resp","ok","Error","statusText","json","searchMovies","query","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}