"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[842],{842:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(791),i=t(187),s={container:"FilmDetails_container__CSwjH"},a=t(393),c=t(689),o=t(87),_=t(128),l="BackLink_back__link__CIDS8",d="BackLink_back__link-section__wPbSU",u=t(184),v=function(e){var n=e.children,t=e.to;return(0,u.jsx)("section",{className:d,children:(0,u.jsxs)(o.rU,{className:l,to:t,children:[(0,u.jsx)(_.jTe,{size:"14"}),n]})})},h=t(270),m="AdditionalInfo_section__info__w2EZu",f="AdditionalInfo_list__-Cfza",x="AdditionalInfo_item__ZYQAA",j=function(){return(0,u.jsxs)("section",{className:m,children:[(0,u.jsx)("h3",{children:"Additional information"}),(0,u.jsxs)("ul",{className:f,children:[(0,u.jsx)("li",{className:x,children:(0,u.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,u.jsx)("li",{className:x,children:(0,u.jsx)(o.rU,{to:"reviews",children:"Reviews "})})]})]})},p={data__section:"BasicInfo_data__section__Ei7Al",img__container:"BasicInfo_img__container__XJEus",info__box:"BasicInfo_info__box__BWAnY",movie__title:"BasicInfo_movie__title__MCXvq",title__overview:"BasicInfo_title__overview__H8IhL",title__genres:"BasicInfo_title__genres__VmDj-",list__genres:"BasicInfo_list__genres__eFZjN",text:"BasicInfo_text__qQy7q"},w=function(e){var n=e.poster_path,t=e.title,r=e.release_date,i=e.overview,s=e.genres,a=e.vote_average;return(0,u.jsxs)("section",{className:p.data__section,children:[(0,u.jsx)("div",{children:(0,u.jsx)("img",{className:p.img__container,src:n?"https://image.tmdb.org/t/p/w200"+n:"https://www.reelviews.net/resources/img/default_poster.jpg",alt:t||"No name"})}),(0,u.jsxs)("div",{className:p.info__box,children:[(0,u.jsxs)("h1",{className:p.movie__title,children:[t||"No name"," (",(null===r||void 0===r?void 0:r.substring(0,4))||"No date",")"]}),(0,u.jsxs)("p",{className:p.text,children:["User score: ",Math.round(10*a),"%"]}),(0,u.jsx)("h2",{className:p.title__overview,children:"Overview"}),(0,u.jsx)("p",{className:p.text,children:i}),(0,u.jsx)("h3",{className:p.title__genres,children:"Genres"}),(0,u.jsx)("ul",{className:p.list__genres,children:s.map((function(e){return(0,u.jsx)("li",{className:p.item__text,children:e.name},e.id)}))})]})]})},g=function(){var e,n,t=(0,c.UO)().movieId,o=(0,i.s)(),_=(0,c.TH)(),l=(0,r.useRef)(null!==(e=null===(n=_.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies"),d=o.dataMovie,m=d||{},f=m.poster_path,x=m.title,p=m.release_date,g=m.overview,N=m.genres,b=m.vote_average,k=(0,r.useRef)(null);return(0,r.useEffect)((function(){return o.setError(null),t!==k.current&&((0,a.TP)(t).then(o.handleDataMovie).catch(o.handleError),k.current=t),function(){}}),[o,t]),(0,u.jsxs)("div",{className:s.container,children:[(0,u.jsx)(v,{to:l.current,children:"Go back"}),(0,u.jsxs)("div",{className:s.error,children:[o.error&&(0,u.jsx)("div",{className:s.error,children:o.error}),d&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(w,{poster_path:f,title:x,release_date:p,overview:g,genres:N,vote_average:b}),(0,u.jsx)(j,{}),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{children:(0,u.jsx)(h.Z,{})}),children:(0,u.jsx)(c.j3,{})})]})]})]})}},393:function(e,n,t){t.d(n,{zv:function(){return c},TP:function(){return a},tx:function(){return o},JS:function(){return i},z1:function(){return s}});var r=function(e){var n=new URL("".concat("https://api.themoviedb.org/3").concat(e));return n.searchParams.append("api_key","bb37d49c53a672415b33eb59b7e6ce07"),fetch(n).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))},i=function(){return r("/trending/all/day")},s=function(e){var n="/search/movie?query=".concat(e);return r(n)},a=function(e){var n="/movie/".concat(e);return r(n)},c=function(e){var n="/movie/".concat(e,"/credits");return r(n)},o=function(e){var n="/movie/".concat(e,"/reviews");return r(n)}}}]);
//# sourceMappingURL=842.acdc0a7f.chunk.js.map